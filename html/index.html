<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Monopoly Webspiel</title>
    <style>
        * {
            box-sizing: border-box;
            font-family: 'Courier New', monospace;
        }
        body {
            background: #0a1929;
            color: #e0f7fa;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        header {
            text-align: center;
            padding: 20px 0;
            border-bottom: 2px solid #4fc3f7;
            margin-bottom: 20px;
        }
        h1 {
            color: #4fc3f7;
            margin: 0;
            font-size: 2.5rem;
            text-shadow: 0 0 5px rgba(79, 195, 247, 0.5);
        }
        .game-area {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 20px;
        }
        .panel {
            background: #1a3a5f;
            border-radius: 10px;
            padding: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
        }
        .game-info {
            flex: 1;
            min-width: 300px;
        }
        .player-info {
            flex: 1;
            min-width: 300px;
        }
        .controls {
            flex: 100%;
            text-align: center;
            padding: 15px;
        }
        button {
            background: #0288d1;
            color: white;
            border: none;
            padding: 12px 25px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s;
            font-weight: bold;
        }
        button:hover {
            background: #039be5;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }
        #diceResult {
            font-size: 2rem;
            margin: 15px 0;
            min-height: 60px;
            text-align: center;
        }
        .player {
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            background: rgba(2, 136, 209, 0.2);
        }
        .current {
            background: rgba(255, 215, 0, 0.3);
            border: 1px solid gold;
        }
        .log {
            background: #0d2b4a;
            border-radius: 10px;
            padding: 15px;
            height: 200px;
            overflow-y: auto;
            margin-top: 20px;
        }
        .log-entry {
            margin: 5px 0;
            padding: 5px;
            border-bottom: 1px solid #1a3a5f;
        }
        .player-name {
            font-weight: bold;
        }
        .player-1 { color: #4fc3f7; }
        .player-2 { color: #ef5350; }
        .player-3 { color: #66bb6a; }
        .player-4 { color: #ffee58; }
        .property {
            background: rgba(255, 255, 255, 0.1);
            padding: 8px;
            margin: 5px 0;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üé≤ MONOPOLY üè†</h1>
        </header>
        
        <div class="game-area">
            <div class="panel game-info">
                <h2>Spielinformation</h2>
                <div id="currentPlayerInfo"></div>
                <div id="currentSpaceInfo"></div>
                <div id="diceResult"></div>
                <div id="propertyDetails"></div>
            </div>
            
            <div class="panel player-info">
                <h2>Spieler</h2>
                <div id="playersList"></div>
            </div>
            
            <div class="panel controls">
                <button id="rollBtn">W√ºrfeln</button>
                <button id="buyBtn">Kaufen</button>
                <button id="endTurnBtn">Zug beenden</button>
                <button id="houseBtn">Haus bauen</button>
            </div>
        </div>
        
        <div class="panel log">
            <h2>Spielverlauf</h2>
            <div id="gameLog"></div>
        </div>
    </div>

    <script>
        // Spielzust√§nde
        const players = [
            { id: 1, name: "Spieler 1", money: 1500, position: 0, properties: [], color: "player-1" },
            { id: 2, name: "Spieler 2", money: 1500, position: 0, properties: [], color: "player-2" }
        ];
        
        const board = [
            { name: "Los", type: "special", amount: 200 },
            { name: "Badstra√üe", type: "property", cost: 60, rent: 2, owner: null },
            { name: "Gemeinschaftsfeld", type: "special" },
            { name: "Turmstra√üe", type: "property", cost: 60, rent: 4, owner: null },
            { name: "Einkommensteuer", type: "tax", amount: 200 },
            { name: "S√ºdbahnhof", type: "station", cost: 200, base_rent: 25, owner: null },
            { name: "Chausseestra√üe", type: "property", cost: 100, rent: 6, owner: null },
            { name: "Ereignisfeld", type: "special" },
            { name: "Elisenstra√üe", type: "property", cost: 100, rent: 6, owner: null },
            { name: "Poststra√üe", type: "property", cost: 120, rent: 8, owner: null },
            { name: "Gef√§ngnis", type: "jail" },
            // Weitere Felder hier erg√§nzen...
        ];
        
        let currentPlayerIndex = 0;
        let gameLog = [];
        let currentDiceRoll = 0;
        let currentProperty = null;

        // Initialisierung
        function initGame() {
            updatePlayerList();
            updateCurrentPlayerInfo();
            addToLog("Spiel gestartet!");
        }

        // W√ºrfeln
        function rollDice() {
            const dice1 = Math.floor(Math.random() * 6) + 1;
            const dice2 = Math.floor(Math.random() * 6) + 1;
            currentDiceRoll = dice1 + dice2;
            
            const diceResult = document.getElementById('diceResult');
            diceResult.innerHTML = `üé≤ W√ºrfel: ${dice1} + ${dice2} = <strong>${currentDiceRoll}</strong>`;
            
            movePlayer(currentDiceRoll);
        }

        // Spieler bewegen
        function movePlayer(steps) {
            const player = players[currentPlayerIndex];
            player.position = (player.position + steps) % board.length;
            
            const space = board[player.position];
            addToLog(`${player.name} ist auf ${space.name} gelandet`);
            
            updateCurrentPlayerInfo();
            showSpaceInfo(space);
            
            if (space.type === "property" || space.type === "station") {
                currentProperty = space;
                if (space.owner === null) {
                    document.getElementById('buyBtn').disabled = false;
                } else if (space.owner !== player) {
                    payRent(space);
                }
            }
        }

        // Eigenschaft kaufen
        function buyProperty() {
            const player = players[currentPlayerIndex];
            const space = board[player.position];
            
            if (space.owner === null && player.money >= space.cost) {
                player.money -= space.cost;
                space.owner = player;
                player.properties.push(space);
                
                addToLog(`${player.name} hat ${space.name} f√ºr ‚Ç¨${space.cost} gekauft`);
                document.getElementById('buyBtn').disabled = true;
                
                updatePlayerList();
                updateCurrentPlayerInfo();
            }
        }

        // Miete zahlen
        function payRent(space) {
            const player = players[currentPlayerIndex];
            const owner = space.owner;
            const rent = space.rent || space.base_rent;
            
            player.money -= rent;
            owner.money += rent;
            
            addToLog(`${player.name} zahlt ${owner.name} ‚Ç¨${rent} Miete f√ºr ${space.name}`);
            
            updatePlayerList();
            updateCurrentPlayerInfo();
        }

        // Zug beenden
        function endTurn() {
            currentPlayerIndex = (currentPlayerIndex + 1) % players.length;
            document.getElementById('diceResult').innerHTML = "";
            document.getElementById('propertyDetails').innerHTML = "";
            document.getElementById('buyBtn').disabled = true;
            
            updateCurrentPlayerInfo();
            addToLog(`üîÅ ${players[currentPlayerIndex].name} ist am Zug`);
        }

        // Spielerliste aktualisieren
        function updatePlayerList() {
            const playersList = document.getElementById('playersList');
            playersList.innerHTML = '';
            
            players.forEach((player, index) => {
                const playerElement = document.createElement('div');
                playerElement.className = `player ${player.color} ${index === currentPlayerIndex ? 'current' : ''}`;
                
                let propertiesHtml = '';
                player.properties.forEach(prop => {
                    propertiesHtml += `<div class="property">${prop.name} (‚Ç¨${prop.rent})</div>`;
                });
                
                playerElement.innerHTML = `
                    <div class="player-name">${player.name}</div>
                    <div>Geld: ‚Ç¨${player.money}</div>
                    <div>Position: ${board[player.position].name}</div>
                    <div>Eigenschaften: ${player.properties.length}</div>
                    ${propertiesHtml}
                `;
                
                playersList.appendChild(playerElement);
            });
        }

        // Aktueller Spielerinfo
        function updateCurrentPlayerInfo() {
            const player = players[currentPlayerIndex];
            const playerInfo = document.getElementById('currentPlayerInfo');
            
            playerInfo.innerHTML = `
                <div class="${player.color}" style="font-size: 1.2rem; margin-bottom: 10px;">
                    <strong>Aktueller Spieler: ${player.name}</strong>
                </div>
                <div>Geld: ‚Ç¨${player.money}</div>
                <div>Position: ${board[player.position].name}</div>
            `;
        }

        // Feldinformation anzeigen
        function showSpaceInfo(space) {
            const spaceInfo = document.getElementById('currentSpaceInfo');
            const propertyDetails = document.getElementById('propertyDetails');
            
            spaceInfo.innerHTML = `<div>Feld: <strong>${space.name}</strong> (${getSpaceType(space.type)})</div>`;
            propertyDetails.innerHTML = '';
            
            if (space.type === "property" || space.type === "station") {
                let details = '';
                
                if (space.owner) {
                    details = `<div>Besitzer: <span class="${space.owner.color}">${space.owner.name}</span></div>`;
                    if (space.owner !== players[currentPlayerIndex]) {
                        details += `<div>Miete: ‚Ç¨${space.rent || space.base_rent}</div>`;
                    }
                } else {
                    details = `<div>Preis: ‚Ç¨${space.cost}</div>`;
                }
                
                propertyDetails.innerHTML = details;
            }
        }

        // Feldtyp √ºbersetzen
        function getSpaceType(type) {
            const types = {
                "property": "Grundst√ºck",
                "station": "Bahnhof",
                "special": "Sonderfeld",
                "tax": "Steuer",
                "jail": "Gef√§ngnis"
            };
            return types[type] || type;
        }

        // Spielverlauf hinzuf√ºgen
        function addToLog(message) {
            const logElement = document.getElementById('gameLog');
            const entry = document.createElement('div');
            entry.className = 'log-entry';
            entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            logElement.appendChild(entry);
            logElement.scrollTop = logElement.scrollHeight;
        }

        // Event Listener
        document.getElementById('rollBtn').addEventListener('click', rollDice);
        document.getElementById('buyBtn').addEventListener('click', buyProperty);
        document.getElementById('endTurnBtn').addEventListener('click', endTurn);
        document.getElementById('houseBtn').addEventListener('click', () => {
            addToLog("Hausbau-Funktion w√ºrde hier implementiert werden");
        });

        // Spiel starten
        window.onload = initGame;
    </script>
</body>
</html>